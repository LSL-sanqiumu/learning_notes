<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1081px" height="541px" viewBox="-0.5 -0.5 1081 541"><defs/><g><rect x="0" y="0" width="1080" height="540" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><path d="M 145 90 L 145 110 L 190 110 L 190 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 190 128.88 L 186.5 121.88 L 190 123.63 L 193.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="40" y="30" width="210" height="60" rx="9" ry="9" fill="#282c34" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 208px; height: 1px; padding-top: 60px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #282c34 ; color: #bbbbbb ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12.0pt">hashSet.<span style="color: #61afef">add</span>(<span style="color: #89ca78">"source"</span>);</pre></div></div></div></foreignObject><text x="42" y="64" fill="#000000" font-family="Helvetica" font-size="12px">hashSet.add("source");</text></switch></g><path d="M 190 190 L 190 215 L 262.5 215 L 262.5 233.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 262.5 238.88 L 259 231.88 L 262.5 233.63 L 266 231.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="40" y="130" width="300" height="60" rx="9" ry="9" fill="#282c34" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 298px; height: 1px; padding-top: 160px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #282c34 ; color: #bbbbbb ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12.0pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><span style="color: #d55fde ; font-style: italic">public boolean </span><span style="color: #61afef">add</span>(<span style="color: #e5c07b">E </span><span style="color: #d19a66">e</span>) {<br />    <span style="color: #d55fde ; font-style: italic">return </span><span style="color: #ef596f">map</span>.<span style="color: #61afef">put</span>(<span style="color: #d19a66">e</span>, <span style="color: #d19a66">PRESENT</span>)==<span style="color: #d55fde ; font-style: italic">null</span>;<br />}</pre></pre></div></div></div></foreignObject><text x="42" y="164" fill="#000000" font-family="Helvetica" font-size="12px">public boolean add(E e) {...</text></switch></g><path d="M 485 270 L 505 270 L 500 270 L 513.63 270" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 518.88 270 L 511.88 273.5 L 513.63 270 L 511.88 266.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 262.5 300 L 262.5 325 L 340 325 L 340 343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 340 348.88 L 336.5 341.88 L 340 343.63 L 343.5 341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="40" y="240" width="445" height="60" rx="9" ry="9" fill="#282c34" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 443px; height: 1px; padding-top: 270px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #282c34 ; color: #bbbbbb ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12.0pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><span style="color: #d55fde ; font-style: italic">public </span><span style="color: #e5c07b">V </span><span style="color: #61afef">put</span>(<span style="color: #e5c07b">K </span><span style="color: #d19a66">key</span>, <span style="color: #e5c07b">V </span><span style="color: #d19a66">value</span>) {<br />    <span style="color: #d55fde ; font-style: italic">return </span><span style="color: #61afef">putVal</span>(<span style="color: #61afef">hash</span>(<span style="color: #d19a66">key</span>), <span style="color: #d19a66">key</span>, <span style="color: #d19a66">value</span>, <span style="color: #d55fde ; font-style: italic">false</span>, <span style="color: #d55fde ; font-style: italic">true</span>);<br />}</pre></pre></pre></div></div></div></foreignObject><text x="42" y="274" fill="#000000" font-family="Helvetica" font-size="12px">public V put(K key, V value) {...</text></switch></g><rect x="520" y="220" width="520" height="100" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 227px; margin-left: 522px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #282c34 ; color: #bbbbbb ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12.0pt"><span style="color: #d55fde ; font-style: italic">static final int </span><span style="color: #61afef">hash</span>(<span style="color: #e5c07b">Object </span><span style="color: #d19a66">key</span>) {<br />    <span style="color: #d55fde ; font-style: italic">int </span>h;<br />    <span style="color: #d55fde ; font-style: italic">return </span>(<span style="color: #d19a66">key </span>== <span style="color: #d55fde ; font-style: italic">null</span>) ? <span style="color: #d19a66">0 </span>: (h = <span style="color: #d19a66">key</span>.<span style="color: #61afef">hashCode</span>()) ^ (h &gt;&gt;&gt; <span style="color: #d19a66">16</span>);<br />}</pre></div></div></div></foreignObject><text x="522" y="239" fill="#000000" font-family="Helvetica" font-size="12px">static final int hash(Object key) {...</text></switch></g><rect x="520" y="220" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 230px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">得到对应key的hash值</div></div></div></foreignObject><text x="595" y="234" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">得到对应key的hash值</text></switch></g><rect x="600" y="400" width="220" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 218px; height: 1px; padding-top: 407px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: rgb(40 , 44 , 52) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><span style="color: rgb(187 , 187 , 187)"><span style="color: #d55fde ; font-style: italic">final </span><span style="color: #e5c07b">Node</span>&lt;<span style="color: #e5c07b">K</span>,<span style="color: #e5c07b">V</span>&gt;[] <span style="color: #61afef">resize</span>() {<br />    </span><font color="#e5c07b">......</font><font color="#bbbbbb"><br />}</font></pre></div></div></div></foreignObject><text x="602" y="419" fill="#000000" font-family="Helvetica" font-size="12px">final Node&lt;K,V&gt;[] resize() {...</text></switch></g><path d="M 540 450 L 593.63 450" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 598.88 450 L 591.88 453.5 L 593.63 450 L 591.88 446.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="380" width="180" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 400px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">初始化长度16，加载因子0.75，<br />当达到0.75乘以16就会进行扩容</div></div></div></foreignObject><text x="690" y="404" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">初始化长度16，加载因子0.75，...</text></switch></g><rect x="540" y="430" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 440px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">初始化</div></div></div></foreignObject><text x="565" y="444" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">初始化</text></switch></g><rect x="40" y="350" width="500" height="110" rx="16.5" ry="16.5" fill="#282c34" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 498px; height: 1px; padding-top: 405px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: #282c34 ; color: #bbbbbb ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12.0pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><pre style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 12pt"><span style="color: #d55fde ; font-style: italic">final </span><span style="color: #e5c07b">V </span><span style="color: #61afef">putVal</span>(<span style="color: #d55fde ; font-style: italic">int </span><span style="color: #d19a66">hash</span>, <span style="color: #e5c07b">K </span><span style="color: #d19a66">key</span>, <span style="color: #e5c07b">V </span><span style="color: #d19a66">value</span>, <span style="color: #d55fde ; font-style: italic">boolean </span><span style="color: #d19a66">onlyIfAbsent</span>,<br />               <span style="color: #d55fde ; font-style: italic">boolean </span><span style="color: #d19a66">evict</span>) {<br />    <span style="color: #e5c07b">Node</span>&lt;<span style="color: #e5c07b">K</span>,<span style="color: #e5c07b">V</span>&gt;[] tab; <span style="color: #e5c07b">Node</span>&lt;<span style="color: #e5c07b">K</span>,<span style="color: #e5c07b">V</span>&gt; p; <span style="color: #d55fde ; font-style: italic">int </span>n, i;<br />    <span style="color: #d55fde ; font-style: italic">if </span>((tab = <span style="color: #ef596f">table</span>) == <span style="color: #d55fde ; font-style: italic">null </span>|| (n = tab.<span style="color: #ef596f">length</span>) == <span style="color: #d19a66">0</span>)<br />        n = (tab = <span style="color: #61afef">resize</span>()).<span style="color: #ef596f">length</span>;</pre></pre></pre></pre></div></div></div></foreignObject><text x="42" y="409" fill="#000000" font-family="Helvetica" font-size="12px">final V putVal(int hash, K key, V value, boolean onlyIfAbsent,...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>